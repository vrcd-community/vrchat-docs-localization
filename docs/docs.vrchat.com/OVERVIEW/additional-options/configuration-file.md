# 配置文件

在 VRChat 中，有一些存在配置信息和可选设置的功能。这些功能的配置并不能在游戏中的设置菜单自定义。不过默认的配置足以满足大部分 VRChat 玩家的需要。

但如果您想对这些配置进行自定义，我们仍然提供了一种改变配置的方式。

## 配置文件路径

VRChat默认并不会主动创建配置文件，您需要在 `%LocalAppdata%Low\VRChat\vrchat` 中手动创建配置文件。配置文件的名称必须为 `config.json` 且必须由合法的JSON结构组成。

::: tip 📘PC 专有的配置
这些配置只能在 PC 上进行调整，不能在 Quest 中调整。
:::

配置文件示例如下

```json
{
	"betas": [
		"particle_system_limiter"
	],
	"ps_max_particles": 50000,
	"ps_max_systems": 200,
	"ps_max_emission": 5000,
	"ps_max_total_emission": 40000,
	"ps_mesh_particle_divider": 60,
	"ps_mesh_particle_poly_limit": 50000,
	"ps_collision_penalty_high": 50,
	"ps_collision_penalty_med": 30,
	"ps_collision_penalty_low": 10,
	"ps_trails_penalty": 10,
	"dynamic_bone_max_affected_transform_count" : 32,
	"dynamic_bone_max_collider_check_count" : 8,
	"cache_directory" : "C:/VRCCache/"
}
```

上面并没有列出所有可配置的功能，这些功能将会在下面进行说明。

## 配置文件的使用

配置文件可以用来自定义一些 VRChat 中的功能设置。

### 活跃状态

您可以通过向配置文件中添加下面的数值来禁用 Discord 和 Steam 的活跃状态显示。

| 配置名                | 目的                                 | 合法参数                            |
| --------------------- | ------------------------------------ | ----------------------------------- |
| `disableRichPresence` | 禁用 Discord 和 Steam 的活跃状态显示 | Bool（布尔参数）, `true` 和 `false` |

### 缓存设定

#### 位置

通常情况下，VRChat的缓存文件将会存储至 `%AppData%..\LocalLow\VRChat\vrchat` 中的子文件夹中。这是 Windows 系统希望应用程序存储临时文件的位置。但高级用户可能会因为某些原因想更改缓存位置。

| 特性名            | 目的                       | 合法参数                                                                                                 |
| ----------------- | -------------------------- | -------------------------------------------------------------------------------------------------------- |
| `cache_directory` | 定义VRChat缓存数据的路径。 | 任何合法的路径。不要使用 `\` 用作路径中的符号，这在 JSON 中被定义为退出标志。请使用 `\\` 或者 `/` 来替代。 |

设置数据和日志文件将会继续存储在默认路径，但缓存文件将会全部存储至您所定义的路径位置。

当参数不存在时，会自动配置为默认路径 `%AppData%..\LocalLow\VRChat\vrchat` 。

#### 缓存大小与过期时间

缓存大小将会默认设置为 20G。缓存的真实大小可能会略微高于或低于设定的值，这取决于缓存中资源的大小。缓存文件会根据自上次被访问以来的时间长短而被移除。如果一个文件在30天内都没有被访问过，它就会被自动移除。

你可以通过以下配置选项来调整这两个设置。请注意，这些数值并不能低于其默认值。

| 特性名               | 目的                                     | 合法参数     |
| -------------------- | ---------------------------------------- | ------------ |
| `cache_size`         | 缓存的最大大小，单位为 gigabytes （G）。 | 大于等于`20` |
| `cache_expiry_delay` | 缓存的过期时间，单位为天。               | 大于等于`30` |

### [模型粒子系统限制](/docs.vrchat.com/SYSTEM/avatar-particle-system-limits.md)

::: tip
📘此限制在 Quest 中默认生效，且不能被禁用。
:::

为了防止滥用和大量使用粒子影响性能,在模型上使用的粒子系统可以被限制。单击标题以查看描述此系统的文档页面。

### [模型动态骨骼限制](/docs.vrchat.com/SYSTEM/avatar-dynamic-bone-limits.md)

::: warning
🚧由于我们已经将动态骨骼替换为[物理骨骼](/creators.vrchat.com/avatars/avatar-dynamics/physbones.md)，因此这不再是一个相关的设置。
:::

动态骨骼是一个非常影响性能的组件，而模型作者很容易过度使用该组件。VRChat 提供了一种方法，用户可以通过该方法限制模型上允许存在的动态骨骼数量。单击标题以查看描述此系统的文档页面。

### 相机和截图设置

在 VRChat 2022.2.2 版本之后，照片的分辨率可以在游戏里自定义。然而您仍然可以通过配置文件来调整它们。

如果通过配置文件来调整分辨率。分辨率最小为1280x720像素，最大为7680x4320像素。

| 配置名                         | 目的                                                                             | 合法数值                                                                                                 |
| ------------------------------ | -------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| `camera_res_height`            | 调整通过相机拍摄出的图像像素高度。<br>只有当在相机中选择配置文件分辨率才会生效。 | `720` 到 `4320`                                                                                          |
| `camera_res_width`             | 调整通过相机拍摄出的图像像素宽度。<br>只有当在相机中选择配置文件分辨率才会生效。 | `1280` 到 `7680`                                                                                         |
| `screenshot_res_height`        | 调整通过 `F12` 截图出的图像的像素高度。                                          | `720` 到 `2160`                                                                                          |
| `screenshot_res_width`         | 调整通过 `F12` 截图出的图像的像素宽度。                                          | `1280` 到 `3840`                                                                                         |
| `picture_output_folder`        | 定义通过 VRChat 游戏内相机拍摄出的图像的存储路径。                                     | 任何合法的路径。不要使用 `\` 用作路径中的符号，这在JSON中被定义为退出标志。请使用 `\\` 或者 `/` 来替代。 |
| `picture_output_split_by_date` | 如果为`false`,照片将直接被导出到输出文件夹，而不会按年月(YYYY-MM)进行分类。      | `true` （默认） 或 `false`                                                                               |

### 第一人称摄像头视野

此外，您可以调整第一人称摄像机的视野，该选项在您处于 VR 模式时可以在相机菜单中使用。这将允许您在使用此选项时增大视野，让您在防止摄像头抖动的同时能够让您的直播观众更好地观看游戏过程。

| 配置名              | 目的                                                                                                                                                                                                                | 合法数值      |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- |
| `fpv_steadycam_fov` | 调整第一人称摄像机的视野。该值表示垂直视野。<br>大多数 HMD 的默认值在50-55之间。如果你想显著地为观众增加这个视野，您可以试试65-70之间的值。但请记住，这只是一个主观的推荐数值，请根据个人习惯的不同进行适当调整。 | `30` 到 `110` |
