# 启动选项

::: tip 📘高阶设置
这些选项是高阶选项，旨在帮助创作者调试创作时出现的问题。
:::

以下列出的启动选项仅可用于 PC 版本的 VRChat。

## 使用启动选项

### Steam

如果您使用的是 Steam 平台，那么您可以通过进入 VRChat 的属性界面来轻松设置这些选项。您可以在您的游戏库中右键 VRChat，点击属性>通用>启动选项，然后将您想要的启动选项写入启动选项输入框内。

### Oculus PC / Meta Rift

如果您使用的是 Oculus PC，您必须为VRChat创建一个快捷方式，然后右键快捷方式，点击属性，在“目标”栏位中的双引号外部添加这些启动参数。在您打开 Oculus Home 之后，您必须通过点击刚刚创建的快捷方式图标打开 VRChat 才能让启动选项生效。Oculus 启动器并不原生支持设置启动选项。

### Oculus Quest

Oculus Quest 不支持以任何方式设置启动选项。

## 启动选项列表

| 启动选项                      | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `--no-vr`                     | 强制使用桌面模式                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--profile=X`                 | 使用不同的用户配置启动，X是一个数字，它默认为0。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--fps=X`                     | 将帧率限制固定为X。在桌面端，它默认为 90。在 VR 模式下，默认的帧率限制将取决于头显最高支持的帧率。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `--enable-debug-gui`          | 启用调试菜单快捷键，在[键盘与鼠标](/docs.vrchat.com/OVERVIEW/controls/keyboard-and-mouse)文档中查看对应的快捷键。                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `--enable-sdk-log-levels`     | 启用大量的额外日志记录。<br>**警告**：这将会让您的日志文件变得**非常**大！<br>使用这个选项可能会因为日益增大的日志文件而降低您的性能，不要将它持续开启！                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `--enable-udon-debug-logging` | 在客户端中启用 Udon 堆内存和堆栈转储。通常只在编辑器中启用。**警告**：这将会让你的日志文件在存在问题的Udon世界中变得非常大！<br>使用这个选项可能会因为日益增大的日志文件而降低您的性能，不要一直打开它！                                                                                                                                                                                                                                                                                                                                                                           |
| `--midi=deviceName`           | 强制 MIDI 驱动搜索包含指定 `deviceName` （设备名称）的已连接 MIDI 设备,支持部分匹配和忽略大小写。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `--watch-worlds`              | 监视 VRChat SDK 构建世界的位置，并自动加入任何用 VRChat SDK 创建的新的本地世界。<br>查看[创建与测试](/creators.vrchat.com/worlds/udon/using-build-test.md)（翻译中）                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `--watch-avatars`             | 监视 VRChat SDK 构建模型的位置。如果正在使用的测试模型进行了更新，将会自动切换为更新后的版本。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `--osc=inPort:outIP:outPort`  | 自定义输入和输出 OSC 信息的设置。<br>支持以下三种参数：<br>- inPort: VRChat 客户端监听 OSC 信息输入的端口。<br>- outIP: OSC 信息将会传到的IP地址。<br>- outPort: OSC 消息将会被发送到的对应端口。                                                                                                                                                                                                                                                                                                                                                                                     |
| `--affinity=<ARG>`            | 这个启动参数可以设置 VRChat 的线程亲和性，选择分配给 VRChat 的线程。`<ARG>`是一个位掩码,指示应该使用哪些线程运行游戏。例如，`FFFF`选择前16个线程，`FF`选择前8个线程，以此类推。<br>**不要在非 AMD CPU 上使用此功能，它仅解决 AMD CPU 的跨 CCX 延迟问题**。如果误用,会导致严重的性能问题。<br>**大多数用户不需要使用此功能**。用户需要自行判断是否需要使用。<br>存在可以帮助您计算位掩码的[实用程序](https://bitsum.com/tools/cpu-affinity-calculator/)。<br>这个启动参数最适用于可以通过限制进程的线程执行核心以减少内部延迟并改善性能的 AMD CPU。<br>这是一个高级功能。如果您不确定是否需要使用到它，那么最好不要使用! |

## 额外的东西

### AMD 的跨 CCX 延迟和核心亲和性

::: tip
感谢 VRChat 社区中的 "Fallen Ninja" 写下这个建议！请注意，以下内容来自社区，VRChat 团队还没有直接验证可用性。
:::

> 如果您正在使用多 CCX 的 AMD CPU(大多数1000/2000/3000系列和一部分5000/7000系列)，可以使用`--affinity`启动参数限制仅使用第一个 CCX 以减少核心间的通信延迟并获得不错的帧率提升。
> 
> 可以在[这里](https://en.wikipedia.org/wiki/List\_of\_AMD\_Ryzen\_processors)查看 CPU 的“核心配置”。如果x前的数字不是1（CCX 数量），你可能会从亲和性限制中受益。注意x后的数字（每个 CCX 中的核心数量）并在下面查找理想的亲和性字符串：
> 
> 2: `--affinity=F` (建议换一个更好的 CPU，这个线程数设置亲和性可能帮助不大，因为仅限制两个物理核心)<br>
> 3: `--affinity=3F`<br>
> 4: `--affinity=FF`<br>
> 6: `--affinity=FFF`<br>
> 8: `--affinity=FFFF`<br>
> 
> 在低端机型上还有一些很少见的例外(假设您没有关闭SMT...如果你问了，那就表示您没有)，但这些例外最坏的情况便是使这种解决方案效果变差，而并不是有害的。

## Unity引擎的启动选项

在 Unity 2019 版本中移除了启动时按住 shift/alt 会弹出分辨率和画质选项框的功能，但您可以使用启动参数替代大部分。

| 启动选项               | 描述                                              |
| ---------------------- | ------------------------------------------------- |
| `-screen-width N`      | 设置默认屏幕宽度，`N` 必须是受支持分辨率的整数。  |
| -screen-height N       | 设置默认屏幕高度，`N` 必须是受支持分辨率的整数。  |
| `-screen-fullscreen N` | 覆盖默认全屏状态，`N` 必须是0或1                  |
| -monitor N             | 在指定的显示器上运行，`N` 代表从1开始的显示器编号 |

您可以在[这里](https://docs.unity3d.com/Manual/CommandLineArguments.html)“Unity Standalone Player command line arguments”下找到这些选项，该链接还包含其他的启动选项，但我们不建议您去使用它们。

如果您看到了这里。请确保您通过左上角选择器观察自己配置的是否是[当前支持的 Unity 版本](/creators.vrchat.com/sdk/current-unity-version.md)。

请注意，大多数 `Force`（强制）启动选项会导致无法使用 VRChat，请尽量不要使用它们，除非你知道自己在做什么。